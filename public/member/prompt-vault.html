<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Vault | AI Hustle Engine</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --accent: #06b6d4;
            --dark: #0f172a;
            --gray: #64748b;
            --light: #f8fafc;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }
        body { font-family: 'Inter', sans-serif; background: var(--light); color: var(--dark); }
        .app { display: flex; min-height: 100vh; }
        .sidebar {
            width: 260px; background: white; border-right: 1px solid #e2e8f0;
            display: flex; flex-direction: column; position: fixed; height: 100vh; z-index: 100;
        }
        .sidebar-header { padding: 24px; border-bottom: 1px solid #e2e8f0; }
        .logo {
            font-weight: 800; font-size: 1.25rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-decoration: none; display: block;
        }
        .tier-badge {
            display: inline-block; margin-top: 8px; padding: 4px 12px;
            background: var(--primary); color: white; border-radius: 50px;
            font-size: 0.75rem; font-weight: 600;
        }
        .nav { flex: 1; padding: 16px 12px; overflow-y: auto; }
        .nav-title {
            font-size: 0.75rem; font-weight: 600; text-transform: uppercase;
            letter-spacing: 0.5px; color: var(--gray); padding: 0 12px; margin-bottom: 8px;
        }
        .nav-item {
            display: flex; align-items: center; gap: 12px; padding: 10px 12px;
            border-radius: 8px; cursor: pointer; transition: all 0.2s;
            color: var(--dark); text-decoration: none; margin-bottom: 2px;
        }
        .nav-item:hover, .nav-item.active { background: var(--light); color: var(--primary); }
        .nav-item.active { font-weight: 600; }
        .sidebar-footer { padding: 16px; border-top: 1px solid #e2e8f0; }
        .user-menu { display: flex; align-items: center; gap: 12px; cursor: pointer; padding: 8px; border-radius: 8px; }
        .avatar {
            width: 36px; height: 36px; border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            display: flex; align-items: center; justify-content: center;
            color: white; font-weight: 600; font-size: 0.875rem; flex-shrink: 0;
        }
        .user-name { font-weight: 600; font-size: 0.875rem; }
        .user-email { font-size: 0.75rem; color: var(--gray); }
        .main { flex: 1; margin-left: 260px; padding: 32px; }
        .page-header {
            display: flex; align-items: center; justify-content: space-between;
            margin-bottom: 24px;
        }
        .page-title-wrap { display: flex; align-items: center; gap: 12px; }
        .page-title { font-size: 1.75rem; font-weight: 700; }
        .count-badge {
            background: var(--primary); color: white; padding: 4px 12px;
            border-radius: 50px; font-size: 0.8rem; font-weight: 600;
        }
        .filter-bar {
            display: flex; gap: 12px; margin-bottom: 24px; flex-wrap: wrap;
        }
        .search-wrap { position: relative; flex: 1; min-width: 200px; }
        .search-wrap input {
            width: 100%; padding: 10px 16px 10px 40px;
            border: 1px solid #e2e8f0; border-radius: 8px; font-family: 'Inter', sans-serif;
            font-size: 0.9rem; outline: none; transition: border-color 0.2s;
        }
        .search-wrap input:focus { border-color: var(--primary); }
        .search-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--gray); }
        select {
            padding: 10px 16px; border: 1px solid #e2e8f0; border-radius: 8px;
            font-family: 'Inter', sans-serif; font-size: 0.9rem; outline: none;
            background: white; cursor: pointer;
        }
        .category-pills {
            display: flex; gap: 8px; margin-bottom: 24px; flex-wrap: wrap;
        }
        .pill {
            padding: 8px 16px; border-radius: 50px; border: 1px solid #e2e8f0;
            background: white; cursor: pointer; font-size: 0.875rem; font-weight: 500;
            transition: all 0.2s; color: var(--dark);
        }
        .pill:hover, .pill.active {
            background: var(--primary); color: white; border-color: var(--primary);
        }
        .prompts-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }
        .prompt-card {
            background: white; border-radius: 12px; border: 1px solid #e2e8f0;
            overflow: hidden; transition: all 0.2s; position: relative;
        }
        .prompt-card:hover { box-shadow: 0 4px 20px rgba(0,0,0,0.08); transform: translateY(-2px); }
        .prompt-card.locked { opacity: 0.85; }
        .prompt-card-header { padding: 16px 16px 0; }
        .prompt-badges { display: flex; gap: 8px; margin-bottom: 10px; flex-wrap: wrap; }
        .badge {
            padding: 3px 10px; border-radius: 50px; font-size: 0.72rem; font-weight: 600;
        }
        .badge-category { background: #ede9fe; color: #7c3aed; }
        .badge-starter { background: #d1fae5; color: #059669; }
        .badge-accelerator { background: #dbeafe; color: #2563eb; }
        .prompt-title { font-size: 1rem; font-weight: 700; margin-bottom: 8px; }
        .prompt-desc { font-size: 0.875rem; color: var(--gray); line-height: 1.5; padding: 0 16px 12px; }
        .prompt-actions { padding: 0 16px 16px; display: flex; gap: 8px; }
        .btn-copy {
            flex: 1; padding: 9px 16px; background: var(--primary); color: white;
            border: none; border-radius: 8px; font-size: 0.875rem; font-weight: 600;
            cursor: pointer; transition: all 0.2s; font-family: 'Inter', sans-serif;
        }
        .btn-copy:hover { background: var(--primary-dark); }
        .btn-expand {
            padding: 9px 12px; background: var(--light); color: var(--dark);
            border: 1px solid #e2e8f0; border-radius: 8px; font-size: 0.875rem;
            cursor: pointer; transition: all 0.2s; font-family: 'Inter', sans-serif;
        }
        .prompt-full {
            display: none; padding: 0 16px 16px;
        }
        .prompt-full.show { display: block; }
        .prompt-text {
            background: var(--dark); color: #e2e8f0; padding: 14px; border-radius: 8px;
            font-size: 0.8rem; line-height: 1.6; font-family: 'Monaco', 'Menlo', monospace;
            white-space: pre-wrap; margin-bottom: 10px;
        }
        .prompt-variables { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
        .var-tag {
            padding: 4px 10px; background: #fef3c7; color: #92400e;
            border-radius: 4px; font-size: 0.75rem; font-weight: 600;
        }
        /* Lock Overlay */
        .lock-overlay {
            position: absolute; inset: 0; background: rgba(255,255,255,0.92);
            backdrop-filter: blur(4px); display: flex; flex-direction: column;
            align-items: center; justify-content: center; text-align: center; padding: 24px;
            border-radius: 12px;
        }
        .lock-icon { font-size: 2rem; margin-bottom: 12px; }
        .lock-overlay h4 { font-size: 1rem; font-weight: 700; margin-bottom: 8px; }
        .lock-overlay p { font-size: 0.85rem; color: var(--gray); margin-bottom: 16px; }
        .btn-upgrade {
            padding: 10px 24px; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white; border-radius: 8px; text-decoration: none;
            font-size: 0.875rem; font-weight: 600; border: none; cursor: pointer;
        }
        /* Toast */
        .toast {
            position: fixed; bottom: 24px; right: 24px; background: var(--dark);
            color: white; padding: 12px 20px; border-radius: 10px;
            font-size: 0.875rem; font-weight: 500; transform: translateY(80px);
            opacity: 0; transition: all 0.3s; z-index: 1000;
            display: flex; align-items: center; gap: 8px;
        }
        .toast.show { transform: translateY(0); opacity: 1; }
        .mobile-toggle {
            display: none; position: fixed; top: 16px; left: 16px; z-index: 200;
            background: white; border: 1px solid #e2e8f0; padding: 12px;
            border-radius: 8px; cursor: pointer;
        }
        @media (max-width: 768px) {
            .sidebar { transform: translateX(-100%); transition: transform 0.3s; }
            .sidebar.open { transform: translateX(0); }
            .main { margin-left: 0; }
            .mobile-toggle { display: block; }
            .prompts-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="app">
        <button class="mobile-toggle" onclick="document.getElementById('sidebar').classList.toggle('open')">‚ò∞</button>

        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="dashboard.html" class="logo">AI Hustle Engine</a>
                <span class="tier-badge" id="tierBadge">Starter</span>
            </div>
            <nav class="nav">
                <div class="nav-title">Member Area</div>
                <a href="dashboard.html" class="nav-item">üìä Dashboard</a>
                <a href="module.html" class="nav-item">üìö My Courses</a>
                <a href="prompt-vault.html" class="nav-item active">‚ö° Prompt Vault</a>
                <a href="templates.html" class="nav-item">üìù Templates</a>
                <a href="account.html" class="nav-item">‚öôÔ∏è Account</a>
            </nav>
            <div class="sidebar-footer">
                <div class="user-menu">
                    <div class="avatar" id="userAvatar">?</div>
                    <div>
                        <div class="user-name" id="userName">Loading...</div>
                        <div class="user-email" id="userEmail"></div>
                    </div>
                </div>
            </div>
        </aside>

        <main class="main">
            <div class="page-header">
                <div class="page-title-wrap">
                    <h1 class="page-title">Prompt Vault</h1>
                    <span class="count-badge">101 Prompts</span>
                </div>
            </div>

            <div class="filter-bar">
                <div class="search-wrap">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="searchInput" placeholder="Search prompts..." oninput="filterPrompts()">
                </div>
                <select id="categoryFilter" onchange="filterPrompts()">
                    <option value="">All Categories</option>
                    <option value="Business Strategy">Business Strategy</option>
                    <option value="Content Creation">Content Creation</option>
                    <option value="Client Acquisition">Client Acquisition</option>
                    <option value="Automation">Automation</option>
                    <option value="Monetization">Monetization</option>
                    <option value="Productivity">Productivity</option>
                </select>
                <select id="tierFilter" onchange="filterPrompts()">
                    <option value="">All Tiers</option>
                    <option value="starter">Starter</option>
                    <option value="accelerator">Accelerator</option>
                </select>
            </div>

            <div class="category-pills" id="categoryPills">
                <button class="pill active" onclick="setCategoryPill(this, '')">All ‚ú®</button>
                <button class="pill" onclick="setCategoryPill(this, 'Business Strategy')">üìà Business Strategy</button>
                <button class="pill" onclick="setCategoryPill(this, 'Content Creation')">‚úçÔ∏è Content Creation</button>
                <button class="pill" onclick="setCategoryPill(this, 'Client Acquisition')">ü§ù Client Acquisition</button>
                <button class="pill" onclick="setCategoryPill(this, 'Automation')">ü§ñ Automation</button>
                <button class="pill" onclick="setCategoryPill(this, 'Monetization')">üí∞ Monetization</button>
                <button class="pill" onclick="setCategoryPill(this, 'Productivity')">‚ö° Productivity</button>
            </div>

            <div class="prompts-grid" id="promptsGrid">
                <!-- Populated by JS -->
            </div>
        </main>
    </div>

    <div class="toast" id="toast">‚úÖ Copied to clipboard!</div>

    <script>
        const PROMPTS = [
            {
                id: 1, tier: 'starter', category: 'Business Strategy',
                title: 'AI Business Model Blueprint',
                desc: 'Generate a complete AI-powered business model for your niche with revenue streams and action steps.',
                prompt: `You are a business strategist specializing in AI-powered businesses. Create a detailed business model for a {{niche}} business using AI tools.\n\nInclude:\n1. Core value proposition\n2. Primary revenue streams (3-5)\n3. AI tools needed and how to use them\n4. 90-day launch roadmap\n5. Realistic income projections at 30/60/90 days\n\nBe specific, actionable, and practical. Target audience: {{target_audience}}`,
                variables: ['{{niche}}', '{{target_audience}}']
            },
            {
                id: 2, tier: 'starter', category: 'Content Creation',
                title: 'Viral Social Media Post Generator',
                desc: 'Create platform-specific social media posts that drive engagement for any topic.',
                prompt: `Create 5 viral social media posts about {{topic}} for {{platform}}.\n\nEach post should:\n- Hook the reader in the first line\n- Provide genuine value or insight\n- Include a clear call-to-action\n- Use appropriate tone for the platform\n- Include relevant hashtags\n\nTone: {{tone}} (e.g., professional, casual, motivational)\nTarget audience: {{audience}}`,
                variables: ['{{topic}}', '{{platform}}', '{{tone}}', '{{audience}}']
            },
            {
                id: 3, tier: 'starter', category: 'Client Acquisition',
                title: 'Cold Outreach Email Sequence',
                desc: 'Write a 3-email cold outreach sequence that gets responses from potential clients.',
                prompt: `Write a 3-email cold outreach sequence for a {{service_type}} freelancer targeting {{target_client}}.\n\nEmail 1 (Day 1): Value-first introduction ‚Äî don't pitch, just offer insight\nEmail 2 (Day 4): Follow-up with a specific, relevant case study or result\nEmail 3 (Day 9): Final gentle follow-up with a simple yes/no question\n\nService: {{service_description}}\nUnique angle: {{unique_value_prop}}\nKeep each email under 150 words. Sound human, not corporate.`,
                variables: ['{{service_type}}', '{{target_client}}', '{{service_description}}', '{{unique_value_prop}}']
            },
            {
                id: 4, tier: 'starter', category: 'Productivity',
                title: 'Weekly AI Work Plan',
                desc: 'Generate a structured weekly plan optimized for AI-powered income building.',
                prompt: `Create a detailed weekly schedule for someone building an AI income stream while working {{hours_available}} hours per week.\n\nGoals this week:\n- {{goal_1}}\n- {{goal_2}}\n\nCurrent income: {{current_income}}\nTarget income: {{target_income}}\n\nBreak down each day into:\n- Morning deep work block (most important task)\n- Client work / income-generating activities\n- Learning and skill development\n- Admin and outreach\n\nPrioritize ruthlessly. No fluff.`,
                variables: ['{{hours_available}}', '{{goal_1}}', '{{goal_2}}', '{{current_income}}', '{{target_income}}']
            },
            {
                id: 5, tier: 'starter', category: 'Monetization',
                title: 'Digital Product Launch Copy',
                desc: 'Write complete launch copy for a digital product ‚Äî sales page, email, and social posts.',
                prompt: `Write complete launch copy for a digital product:\n\nProduct: {{product_name}}\nPrice: {{price}}\nTarget buyer: {{buyer_persona}}\nMain benefit: {{primary_benefit}}\nProof/results: {{social_proof}}\n\nDeliver:\n1. Sales page headline + subheadline (3 options each)\n2. Problem-agitate-solution opening paragraph\n3. 5 bullet-point benefits (outcome-focused)\n4. Price anchor and value justification\n5. FAQ section (5 questions)\n6. Launch email subject lines (5 options)\n\nTone: direct, benefit-driven, no hype.`,
                variables: ['{{product_name}}', '{{price}}', '{{buyer_persona}}', '{{primary_benefit}}', '{{social_proof}}']
            },
            {
                id: 6, tier: 'starter', category: 'Business Strategy',
                title: 'Niche Research & Validation',
                desc: 'Evaluate a niche for AI service potential and identify the most profitable sub-niches.',
                prompt: `Analyze the {{niche}} market for AI service opportunities.\n\nProvide:\n1. Market size and growth trend assessment\n2. Top 5 pain points businesses in this niche have that AI can solve\n3. Biggest competitors and their weaknesses\n4. 3 underserved micro-niches with the least competition\n5. Recommended AI service to offer with pricing strategy\n6. First 3 potential clients and where to find them\n\nBe blunt about viability. Rate the opportunity 1-10 with reasoning.`,
                variables: ['{{niche}}']
            },
            {
                id: 7, tier: 'accelerator', category: 'Automation',
                title: 'AI Workflow Automation Map',
                desc: 'Design a complete automation workflow for any business process using AI tools.',
                prompt: `Design a complete AI automation workflow for {{business_process}} in a {{business_type}} business.\n\nMap out:\n1. Current manual process (step by step)\n2. Automation opportunity analysis ‚Äî what can be 100% automated vs. AI-assisted\n3. Recommended tool stack (be specific: tool names, tiers, costs)\n4. Implementation roadmap (Week 1-4)\n5. Expected time savings per week\n6. Potential new revenue or cost reduction\n\nOutput as a clean, actionable framework someone non-technical can follow.\nBudget constraint: {{monthly_budget}} per month for tools.`,
                variables: ['{{business_process}}', '{{business_type}}', '{{monthly_budget}}']
            },
            {
                id: 8, tier: 'accelerator', category: 'Client Acquisition',
                title: 'LinkedIn Outreach System',
                desc: 'Build a complete LinkedIn prospecting and connection request system with follow-up sequences.',
                prompt: `Build a LinkedIn outreach system for a {{service}} freelancer targeting {{ideal_client}}.\n\nDeliver:\n1. Profile optimization checklist (10 items specific to this service)\n2. Search strategy to find ideal clients (filters, keywords, groups)\n3. Connection request message (3 variations, under 300 chars each)\n4. Post-connection message sequence (Days 1, 3, 7)\n5. Content calendar for 4 posts that attract inbound leads\n6. Weekly activity targets (connections/day, messages/day)\n\nGoal: Book {{monthly_calls}} discovery calls per month.\nTone: Consultative, not salesy.`,
                variables: ['{{service}}', '{{ideal_client}}', '{{monthly_calls}}']
            },
            {
                id: 9, tier: 'accelerator', category: 'Content Creation',
                title: 'AI-Powered Blog Post System',
                desc: 'Generate a full SEO-optimized blog post outline with hooks, headings, and CTAs.',
                prompt: `Create a complete, publish-ready blog post outline for:\n\nKeyword: {{target_keyword}}\nAudience: {{target_audience}}\nGoal: {{content_goal}} (e.g., rank on Google, generate leads, build authority)\n\nDeliver:\n1. 5 headline options (power word + number + benefit formula)\n2. SEO meta description (under 160 chars)\n3. Intro hook paragraph (pattern interrupt approach)\n4. Full H2/H3 outline with sub-point descriptions\n5. 3 places to insert natural CTAs\n6. Conclusion with key takeaway summary\n7. Internal linking opportunities\n\nWord count target: {{word_count}}`,
                variables: ['{{target_keyword}}', '{{target_audience}}', '{{content_goal}}', '{{word_count}}']
            },
            {
                id: 10, tier: 'accelerator', category: 'Monetization',
                title: 'Consulting Offer Builder',
                desc: 'Design a high-ticket consulting offer with packaging, pricing, and sales script.',
                prompt: `Design a premium consulting offer for a {{expertise}} consultant targeting {{client_type}}.\n\nBuild:\n1. Offer name and one-liner (3 options)\n2. Transformation statement: "Help {{client}} achieve {{outcome}} in {{timeframe}} without {{objection}}"\n3. What's included (deliverables, sessions, resources)\n4. Pricing strategy with 3 tiers and justification\n5. Discovery call script outline (questions to ask, not pitch)\n6. Common objections and responses\n7. Proposal template structure\n\nTarget price point: {{price_range}}\nDifferentiator: {{unique_angle}}`,
                variables: ['{{expertise}}', '{{client_type}}', '{{price_range}}', '{{unique_angle}}']
            },
            {
                id: 11, tier: 'accelerator', category: 'Automation',
                title: 'Email Marketing Automation Sequence',
                desc: 'Build a complete welcome + nurture email sequence for a digital product business.',
                prompt: `Write a 7-email welcome and nurture sequence for a {{business_type}} business selling {{product}}.\n\nEmail sequence:\n- Email 1 (Immediate): Welcome + quick win delivery\n- Email 2 (Day 2): Your story / why this matters\n- Email 3 (Day 4): Value bomb (actionable tip, no pitch)\n- Email 4 (Day 6): Social proof + case study\n- Email 5 (Day 8): Overcome top objection\n- Email 6 (Day 10): Soft offer with urgency\n- Email 7 (Day 14): Last chance + clear CTA\n\nTone: {{brand_voice}}\nProduct price: {{price}}\nSubscriber acquired via: {{lead_source}}`,
                variables: ['{{business_type}}', '{{product}}', '{{brand_voice}}', '{{price}}', '{{lead_source}}']
            },
            {
                id: 12, tier: 'starter', category: 'Productivity',
                title: 'AI Tool Stack Builder',
                desc: 'Get a customized AI tool recommendation stack for your specific business and budget.',
                prompt: `Recommend the optimal AI tool stack for a {{business_type}} making {{current_revenue}} monthly with a {{monthly_budget}} tool budget.\n\nCurrent bottlenecks: {{bottlenecks}}\nTop priorities: {{priorities}}\n\nFor each recommended tool:\n1. Tool name and tier (free/paid)\n2. Specific use case for this business\n3. Time saved per week estimate\n4. ROI calculation\n5. Implementation difficulty (1-5)\n\nOrganize by priority. Flag any tools that are overkill for this stage. Be ruthlessly practical.`,
                variables: ['{{business_type}}', '{{current_revenue}}', '{{monthly_budget}}', '{{bottlenecks}}', '{{priorities}}']
            }
        ];

        let filteredPrompts = [...PROMPTS];
        let userTier = 'starter'; // Default; override from localStorage
        let expandedCards = new Set();

        // Load user info
        function loadUser() {
            const raw = localStorage.getItem('ahe_user');
            if (raw) {
                try {
                    const user = JSON.parse(raw);
                    document.getElementById('userName').textContent = user.name || user.email;
                    document.getElementById('userEmail').textContent = user.email || '';
                    document.getElementById('userAvatar').textContent = (user.name || user.email || 'U')[0].toUpperCase();
                    userTier = (user.tier || 'starter').toLowerCase();
                    document.getElementById('tierBadge').textContent = user.tier || 'Starter';
                } catch(e) {}
            }
            renderPrompts(PROMPTS);
        }

        function filterPrompts() {
            const search = document.getElementById('searchInput').value.toLowerCase();
            const category = document.getElementById('categoryFilter').value;
            const tierF = document.getElementById('tierFilter').value;
            filteredPrompts = PROMPTS.filter(p => {
                const matchSearch = !search || p.title.toLowerCase().includes(search) || p.desc.toLowerCase().includes(search);
                const matchCat = !category || p.category === category;
                const matchTier = !tierF || p.tier === tierF;
                return matchSearch && matchCat && matchTier;
            });
            renderPrompts(filteredPrompts);
        }

        function setCategoryPill(el, category) {
            document.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
            el.classList.add('active');
            document.getElementById('categoryFilter').value = category;
            filterPrompts();
        }

        function isLocked(prompt) {
            return prompt.tier === 'accelerator' && userTier === 'starter';
        }

        function renderPrompts(prompts) {
            const grid = document.getElementById('promptsGrid');
            if (prompts.length === 0) {
                grid.innerHTML = '<p style="color:var(--gray);grid-column:1/-1;padding:40px;text-align:center;">No prompts match your filters.</p>';
                return;
            }
            grid.innerHTML = prompts.map(p => {
                const locked = isLocked(p);
                const expanded = expandedCards.has(p.id);
                return `
                <div class="prompt-card${locked ? ' locked' : ''}" id="card-${p.id}">
                    <div class="prompt-card-header">
                        <div class="prompt-badges">
                            <span class="badge badge-category">${p.category}</span>
                            <span class="badge badge-${p.tier}">${p.tier === 'starter' ? 'üü¢ Starter' : 'üîµ Accelerator'}</span>
                        </div>
                        <div class="prompt-title">${p.title}</div>
                    </div>
                    <div class="prompt-desc">${p.desc}</div>
                    <div class="prompt-actions">
                        <button class="btn-copy" onclick="copyPrompt(${p.id})">üìã Copy Prompt</button>
                        <button class="btn-expand" onclick="toggleExpand(${p.id})">${expanded ? '‚ñ≤' : '‚ñº'}</button>
                    </div>
                    <div class="prompt-full ${expanded ? 'show' : ''}" id="full-${p.id}">
                        <div class="prompt-text">${escapeHtml(p.prompt)}</div>
                        ${p.variables.length > 0 ? `
                        <div style="font-size:0.75rem;font-weight:600;color:var(--gray);margin-bottom:6px;">VARIABLES TO REPLACE:</div>
                        <div class="prompt-variables">
                            ${p.variables.map(v => `<span class="var-tag">${v}</span>`).join('')}
                        </div>` : ''}
                    </div>
                    ${locked ? `
                    <div class="lock-overlay">
                        <div class="lock-icon">üîí</div>
                        <h4>Accelerator Prompt</h4>
                        <p>Upgrade to Accelerator to unlock this prompt and 50+ more advanced prompts.</p>
                        <a href="/#pricing" class="btn-upgrade">Upgrade to Accelerator ‚Üí</a>
                    </div>` : ''}
                </div>`;
            }).join('');
        }

        function toggleExpand(id) {
            if (expandedCards.has(id)) {
                expandedCards.delete(id);
            } else {
                expandedCards.add(id);
            }
            filterPrompts();
        }

        function copyPrompt(id) {
            const prompt = PROMPTS.find(p => p.id === id);
            if (!prompt || isLocked(prompt)) return;
            navigator.clipboard.writeText(prompt.prompt).then(() => {
                const btn = document.querySelector(`#card-${id} .btn-copy`);
                if (btn) {
                    btn.textContent = '‚úÖ Copied!';
                    btn.style.background = 'var(--success)';
                    setTimeout(() => {
                        btn.textContent = 'üìã Copy Prompt';
                        btn.style.background = '';
                    }, 2000);
                }
                showToast();
            });
        }

        function showToast() {
            const t = document.getElementById('toast');
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2500);
        }

        function escapeHtml(str) {
            return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
        }

        loadUser();
    </script>
</body>
</html>
